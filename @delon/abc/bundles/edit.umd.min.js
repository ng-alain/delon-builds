/**
 * @license ng-alain(cipchk@qq.com) v7.3.1
 * (c) 2019 cipchk https://ng-alain.com/
 * License: MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@delon/util"),require("@angular/animations"),require("@angular/forms"),require("@delon/theme"),require("@angular/common"),require("ng-zorro-antd")):"function"==typeof define&&define.amd?define("@delon/abc/edit",["exports","@angular/core","@delon/util","@angular/animations","@angular/forms","@delon/theme","@angular/common","ng-zorro-antd"],e):e(((t=t||self).delon=t.delon||{},t.delon.abc=t.delon.abc||{},t.delon.abc.edit={}),t.ng.core,t.delon.util,t.ng.animations,t.ng.forms,t.delon.theme,t.ng.common,t["ng-zorro-antd"])}(this,function(t,e,n,o,r,i,a,s){"use strict";var l=function(){return(l=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function p(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i["return"])&&n.call(i)}finally{if(r)throw r.error}}return a}function d(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}var h=function(){function t(){this.size="default",this.nzLayout="horizontal",this.gutter=32,this.col=2,this.labelWidth=150,this.firstVisual=!1}return t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ngInjectableDef=e.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),f=function(){function t(t){this.line=!1,Object.assign(this,l({},new h,t))}return Object.defineProperty(t.prototype,"gutter",{get:function(){return"horizontal"===this.nzLayout?this._gutter:0},set:function(t){this._gutter=n.toNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nzLayout",{get:function(){return this._nzLayout},set:function(t){this._nzLayout=t,"inline"===t&&(this.size="compact")},enumerable:!0,configurable:!0}),t.decorators=[{type:e.Component,args:[{selector:"se-container, [se-container]",exportAs:"seContainer",template:'<div class="ant-row se__container se__{{nzLayout}} se__{{size}}"\n     [ngStyle]="{\'margin-left.px\': -(gutter / 2), \'margin-right.px\': -(gutter / 2)}">\n  <se-title *ngIf="title">\n    <ng-container *stringTemplateOutlet="title">{{ title }}</ng-container>\n  </se-title>\n  <ng-content></ng-content>\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:h}]},t.propDecorators={colInCon:[{type:e.Input,args:["se-container"]}],col:[{type:e.Input}],labelWidth:[{type:e.Input}],title:[{type:e.Input}],gutter:[{type:e.Input}],nzLayout:[{type:e.Input}],size:[{type:e.Input}],firstVisual:[{type:e.Input}],line:[{type:e.Input}]},p([n.InputNumber(null),u("design:type",Number)],t.prototype,"colInCon",void 0),p([n.InputNumber(null),u("design:type",Number)],t.prototype,"col",void 0),p([n.InputNumber(null),u("design:type",Number)],t.prototype,"labelWidth",void 0),p([n.InputBoolean(),u("design:type",Boolean)],t.prototype,"firstVisual",void 0),p([n.InputBoolean(),u("design:type",Object)],t.prototype,"line",void 0),t}(),g=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"se-error",exportAs:"seError",animations:[o.trigger("errorAnt",[o.transition("void => *",[o.style({opacity:0,transform:"translateY(-5px)"}),o.animate("0.3s cubic-bezier(0.645, 0.045, 0.355, 1)",o.style({opacity:1,transform:"translateY(0)"}))]),o.transition("* => void",[o.style({opacity:1,transform:"translateY(0)"}),o.animate("0.3s cubic-bezier(0.645, 0.045, 0.355, 1)",o.style({opacity:0,transform:"translateY(-5px)"}))])])],template:"\n    <div [@errorAnt]><ng-content></ng-content></div>\n  ",host:{"[class.ant-form-explain]":"true"},changeDetection:e.ChangeDetectionStrategy.OnPush}]}],t}(),y=function(){function t(t,e,n){if(this.parent=t,this.ren=n,null==t)throw new Error("[se-title] must include 'se-container' component");this.el=e.nativeElement}return t.prototype.setClass=function(){var t=this.parent.gutter,e=this.el;this.ren.setStyle(e,"padding-left",t/2+"px"),this.ren.setStyle(e,"padding-right",t/2+"px")},t.prototype.ngOnInit=function(){this.setClass()},t.decorators=[{type:e.Component,args:[{selector:"se-title, [se-title]",exportAs:"seTitle",template:"<ng-content></ng-content>",host:{"[class.se__title]":"true"},changeDetection:e.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:f,decorators:[{type:e.Host},{type:e.Optional}]},{type:e.ElementRef},{type:e.Renderer2}]},t}(),m=0,b=function(){function t(t,e,n,o,r){if(this.parent=e,this.rep=n,this.ren=o,this.cdr=r,this.clsMap=[],this.inited=!1,this.onceFlag=!1,this.invalid=!1,this._labelWidth=null,this.required=!1,this.controlClass="",this._id="_se-"+m++,this._autoId=!0,null==e)throw new Error("[se] must include 'se-container' component");this.el=t.nativeElement}return Object.defineProperty(t.prototype,"id",{set:function(t){this._id=t,this._autoId=!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingValue",{get:function(){return this.parent.gutter/2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showErr",{get:function(){return this.invalid&&"compact"!==this.parent.size&&!!this.error},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngControl",{get:function(){return this.ngModel||this.formControlName},enumerable:!0,configurable:!0}),t.prototype.setClass=function(){var t=this,e=t.el,n=t.ren,o=t.clsMap,r=t.col,i=t.parent,a=t.cdr,s=t.line,l=t.labelWidth,p=t.rep;this._labelWidth=null!=l?l:i.labelWidth,o.forEach(function(t){return n.removeClass(e,t)}),o.length=0;var u="horizontal"===i.nzLayout?p.genCls(null!=r?r:i.colInCon||i.col):[];return o.push.apply(o,d(["ant-form-item"],u,["se__item"])),(s||i.line)&&o.push("se__line"),o.forEach(function(t){return n.addClass(e,t)}),a.detectChanges(),this},t.prototype.bindModel=function(){var t=this;if(this.ngControl&&!this.status$&&(this.status$=this.ngControl.statusChanges.subscribe(function(e){return t.updateStatus("INVALID"===e)}),this._autoId)){var e=n.deepGet(this.ngControl.valueAccessor,"_elementRef.nativeElement");e&&(e.id=this._id)}},t.prototype.updateStatus=function(t){this.ngControl.disabled||this.ngControl.isDisabled||(this.invalid=t&&this.onceFlag||this.ngControl.dirty&&t,this.cdr.detectChanges())},t.prototype.checkContent=function(){var t=this.contentElement.nativeElement,e="se__item-empty";n.isEmpty(t)?this.ren.addClass(t,e):this.ren.removeClass(t,e)},t.prototype.ngAfterContentInit=function(){this.checkContent()},t.prototype.ngOnChanges=function(){this.onceFlag=this.parent.firstVisual,this.inited&&this.setClass().bindModel()},t.prototype.ngAfterViewInit=function(){var t=this;this.setClass().bindModel(),this.inited=!0,this.onceFlag&&Promise.resolve().then(function(){t.updateStatus(t.ngControl.invalid),t.onceFlag=!1})},t.prototype.ngOnDestroy=function(){this.status$&&this.status$.unsubscribe()},t.decorators=[{type:e.Component,args:[{selector:"se",exportAs:"se",template:'<div class="ant-form-item-label se__label"\n     [class.se__nolabel]="!label"\n     [style.width.px]="_labelWidth">\n  <label *ngIf="label"\n         [attr.for]="_id"\n         [ngClass]="{\'ant-form-item-required\': required}">\n    <ng-container *stringTemplateOutlet="label">{{ label }}</ng-container>\n    <span class="se__label-optional">\n      {{ optional }}\n      <nz-tooltip *ngIf="optionalHelp"\n                  [nzTitle]="optionalHelp">\n        <i nz-tooltip\n           nz-icon\n           type="question-circle"></i>\n      </nz-tooltip>\n    </span>\n  </label>\n</div>\n<div class="ant-form-item-control-wrapper se__control">\n  <div class="ant-form-item-control {{controlClass}}"\n       [class.has-error]="invalid">\n    <span (cdkObserveContent)="checkContent()" #contentElement><ng-content></ng-content></span>\n    <se-error *ngIf="showErr">{{error}}</se-error>\n    <div *ngIf="extra"\n         class="ant-form-extra">{{extra}}</div>\n  </div>\n</div>\n',host:{"[style.padding-left.px]":"paddingValue","[style.padding-right.px]":"paddingValue","[class.ant-form-item-with-help]":"showErr"},changeDetection:e.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:f,decorators:[{type:e.Optional},{type:e.Host}]},{type:i.ResponsiveService},{type:e.Renderer2},{type:e.ChangeDetectorRef}]},t.propDecorators={ngModel:[{type:e.ContentChild,args:[r.NgModel]}],formControlName:[{type:e.ContentChild,args:[r.FormControlName]}],contentElement:[{type:e.ViewChild,args:["contentElement"]}],optional:[{type:e.Input}],optionalHelp:[{type:e.Input}],error:[{type:e.Input}],extra:[{type:e.Input}],label:[{type:e.Input}],col:[{type:e.Input}],required:[{type:e.Input}],controlClass:[{type:e.Input}],line:[{type:e.Input}],labelWidth:[{type:e.Input}],id:[{type:e.Input}]},p([n.InputNumber(null),u("design:type",Number)],t.prototype,"col",void 0),p([n.InputBoolean(),u("design:type",Object)],t.prototype,"required",void 0),p([n.InputBoolean(null),u("design:type",Boolean)],t.prototype,"line",void 0),p([n.InputNumber(null),u("design:type",Number)],t.prototype,"labelWidth",void 0),t}(),v=[f,b,g,y],C=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,n.DelonUtilModule,s.NgZorroAntdModule],declarations:d(v),exports:d(v)}]}],t}();t.SEComponent=b,t.SEConfig=h,t.SEContainerComponent=f,t.SEErrorComponent=g,t.SEModule=C,t.SETitleComponent=y,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=edit.umd.min.js.map
/**
 * @license ng-alain(cipchk@qq.com) v7.0.0-rc.0
 * (c) 2018 Cipchk https://ng-alain.com/
 * License: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@delon/util"),require("@angular/common"),require("@angular/core"),require("@delon/theme"),require("ng-zorro-antd")):"function"==typeof define&&define.amd?define("@delon/abc/notice-icon",["exports","@delon/util","@angular/common","@angular/core","@delon/theme","ng-zorro-antd"],t):t((e.delon=e.delon||{},e.delon.abc=e.delon.abc||{},e.delon.abc["notice-icon"]={}),e.delon.util,e.ng.common,e.ng.core,e.delon.theme,e["ng-zorro-antd"])}(this,function(e,t,n,o,i,a){"use strict";var l=function(){function e(){this.locale={},this.select=new o.EventEmitter,this.clear=new o.EventEmitter}return e.prototype.onClick=function(e){this.select.emit({title:this.data.title,item:e})},e.prototype.onClear=function(){this.clear.emit(this.data.title)},e.decorators=[{type:o.Component,args:[{selector:"notice-icon-tab",template:'<div *ngIf="data.list?.length === 0; else listTpl" class="notice-icon__notfound">\n  <img class="notice-icon__notfound-img" *ngIf="data.emptyImage" src="{{data.emptyImage}}" alt="not found" />\n  <p>{{data.emptyText || locale.emptyText}}</p>\n</div>\n<ng-template #listTpl>\n  <nz-list [nzDataSource]="data.list" [nzRenderItem]="item">\n    <ng-template #item let-item>\n      <nz-list-item (click)="onClick(item)" [ngClass]="{\'notice-icon__item-read\': item.read}">\n        <nz-list-item-meta [nzTitle]="nzTitle" [nzDescription]="nzDescription" [nzAvatar]="item.avatar">\n          <ng-template #nzTitle>\n            {{item.title}}\n            <div class="notice-icon__item-extra" *ngIf="item.extra">\n              <nz-tag [nzColor]="item.color">{{item.extra}}</nz-tag>\n            </div>\n          </ng-template>\n          <ng-template #nzDescription>\n            <div *ngIf="item.description" class="notice-icon__item-desc">{{item.description}}</div>\n            <div *ngIf="item.datetime" class="notice-icon__item-time">{{item.datetime}}</div>\n          </ng-template>\n        </nz-list-item-meta>\n      </nz-list-item>\n    </ng-template>\n  </nz-list>\n  <div class="notice-icon__clear" (click)="onClear()">{{ data.clearText || locale.clearText }}</div>\n</ng-template>\n'}]}],e.propDecorators={locale:[{type:o.Input}],data:[{type:o.Input}],select:[{type:o.Output}],clear:[{type:o.Output}]},e}();function c(e,t,n,o){var i,a=arguments.length,l=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;0<=c;c--)(i=e[c])&&(l=(a<3?i(l):3<a?i(t,n,l):i(t,n))||l);return 3<a&&l&&Object.defineProperty(t,n,l),l}function r(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,a=n.call(e),l=[];try{for(;(void 0===t||0<t--)&&!(o=a.next()).done;)l.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(n=a["return"])&&n.call(a)}finally{if(i)throw i.error}}return l}function s(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}var d=function(){function e(e,t){this.i18n=e,this.cdr=t,this.locale={},this.data=[],this.loading=!1,this.popoverVisible=!1,this.btnClass="",this.btnIconClass="",this.select=new o.EventEmitter,this.clear=new o.EventEmitter,this.popoverVisibleChange=new o.EventEmitter}return e.prototype.onVisibleChange=function(e){this.popoverVisibleChange.emit(e)},e.prototype.fixCls=function(){this.ddc.cdkOverlay.panelClass=["header-dropdown","notice-icon"]},e.prototype.onSelect=function(e){this.select.emit(e)},e.prototype.onClear=function(e){this.clear.emit(e)},e.prototype.ngOnInit=function(){var e=this;this.i18n$=this.i18n.change.subscribe(function(){e.locale=e.i18n.getData("noticeIcon"),e.cdr.markForCheck()})},e.prototype.ngOnChanges=function(){this.cdr.markForCheck()},e.prototype.ngOnDestroy=function(){this.i18n$.unsubscribe()},e.decorators=[{type:o.Component,args:[{selector:"notice-icon",template:'<ng-template #badgeTpl>\n  <nz-badge [nzCount]="count" [ngClass]="btnClass" [nzStyle]="{ \'box-shadow\': \'none\' }">\n    <i nz-icon type="bell" [ngClass]="btnIconClass"></i>\n  </nz-badge>\n</ng-template>\n<div *ngIf="data?.length === 0">\n  <ng-template [ngTemplateOutlet]="badgeTpl"></ng-template>\n</div>\n<nz-dropdown #dd *ngIf="data?.length > 0" [nzVisible]="popoverVisible" (nzVisibleChange)="onVisibleChange($event)"\n  nzTrigger="click" nzPlacement="bottomRight">\n  <div nz-dropdown (click)="fixCls()">\n    <ng-template [ngTemplateOutlet]="badgeTpl"></ng-template>\n  </div>\n  <nz-spin [nzSpinning]="loading" [nzDelay]="0">\n    <nz-tabset nzSelectedIndex="0">\n      <nz-tab *ngFor="let i of data" [nzTitle]="i.title">\n        <notice-icon-tab [locale]="locale" [data]="i" (select)="onSelect($event)" (clear)="onClear($event)"></notice-icon-tab>\n      </nz-tab>\n    </nz-tabset>\n  </nz-spin>\n</nz-dropdown>\n',host:{"[class.notice-icon__btn]":"true"},changeDetection:o.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:i.DelonLocaleService},{type:o.ChangeDetectorRef}]},e.propDecorators={data:[{type:o.Input}],count:[{type:o.Input}],loading:[{type:o.Input}],popoverVisible:[{type:o.Input}],btnClass:[{type:o.Input}],btnIconClass:[{type:o.Input}],select:[{type:o.Output}],clear:[{type:o.Output}],popoverVisibleChange:[{type:o.Output}],ddc:[{type:o.ViewChild,args:["dd"]}]},c([t.InputNumber(),r("design:type",Number)],e.prototype,"count",void 0),c([t.InputBoolean(),r("design:type",Object)],e.prototype,"loading",void 0),c([t.InputBoolean(),r("design:type",Object)],e.prototype,"popoverVisible",void 0),e}(),u=[d],m=function(){function e(){}return e.decorators=[{type:o.NgModule,args:[{imports:[n.CommonModule,i.DelonLocaleModule,a.NgZorroAntdModule],declarations:s(u,[l]),exports:s(u)}]}],e}();e.NoticeIconTabComponent=l,e.NoticeIconComponent=d,e.NoticeIconModule=m,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=noticeIcon.umd.min.js.map
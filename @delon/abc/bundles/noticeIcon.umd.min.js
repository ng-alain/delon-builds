/**
 * @license ng-alain(cipchk@qq.com) v7.3.1
 * (c) 2019 cipchk https://ng-alain.com/
 * License: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@delon/theme"),require("@delon/util"),require("@angular/common"),require("ng-zorro-antd")):"function"==typeof define&&define.amd?define("@delon/abc/notice-icon",["exports","@angular/core","@delon/theme","@delon/util","@angular/common","ng-zorro-antd"],t):t(((e=e||self).delon=e.delon||{},e.delon.abc=e.delon.abc||{},e.delon.abc["notice-icon"]={}),e.ng.core,e.delon.theme,e.delon.util,e.ng.common,e["ng-zorro-antd"])}(this,function(e,t,n,o,i,a){"use strict";function l(e,t,n,o){var i,a=arguments.length,l=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,n,l):i(t,n))||l);return a>3&&l&&Object.defineProperty(t,n,l),l}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function r(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(o=a.next()).done;)l.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(n=a["return"])&&n.call(a)}finally{if(i)throw i.error}}return l}function p(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e}var s=function(){function e(){this.locale={},this.select=new t.EventEmitter,this.clear=new t.EventEmitter}return e.prototype.onClick=function(e){this.select.emit({title:this.data.title,item:e})},e.prototype.onClear=function(){this.clear.emit(this.data.title)},e.decorators=[{type:t.Component,args:[{selector:"notice-icon-tab",exportAs:"noticeIconTab",template:'<div *ngIf="data.list?.length === 0; else listTpl" class="notice-icon__notfound">\n  <img class="notice-icon__notfound-img" *ngIf="data.emptyImage" src="{{data.emptyImage}}" alt="not found" />\n  <p>{{data.emptyText || locale.emptyText}}</p>\n</div>\n<ng-template #listTpl>\n  <nz-list [nzDataSource]="data.list" [nzRenderItem]="item">\n    <ng-template #item let-item>\n      <nz-list-item (click)="onClick(item)" [ngClass]="{\'notice-icon__item-read\': item.read}">\n        <nz-list-item-meta [nzTitle]="nzTitle" [nzDescription]="nzDescription" [nzAvatar]="item.avatar">\n          <ng-template #nzTitle>\n            {{item.title}}\n            <div class="notice-icon__item-extra" *ngIf="item.extra">\n              <nz-tag [nzColor]="item.color">{{item.extra}}</nz-tag>\n            </div>\n          </ng-template>\n          <ng-template #nzDescription>\n            <div *ngIf="item.description" class="notice-icon__item-desc">{{item.description}}</div>\n            <div *ngIf="item.datetime" class="notice-icon__item-time">{{item.datetime}}</div>\n          </ng-template>\n        </nz-list-item-meta>\n      </nz-list-item>\n    </ng-template>\n  </nz-list>\n  <div class="notice-icon__clear" (click)="onClear()">{{ data.clearText || locale.clearText }}</div>\n</ng-template>\n'}]}],e.propDecorators={locale:[{type:t.Input}],data:[{type:t.Input}],select:[{type:t.Output}],clear:[{type:t.Output}]},e}(),d=function(){function e(e,n){this.i18n=e,this.cdr=n,this.locale={},this.data=[],this.loading=!1,this.popoverVisible=!1,this.btnClass="",this.btnIconClass="",this.select=new t.EventEmitter,this.clear=new t.EventEmitter,this.popoverVisibleChange=new t.EventEmitter}return e.prototype.onVisibleChange=function(e){this.popoverVisibleChange.emit(e)},e.prototype.onSelect=function(e){this.select.emit(e)},e.prototype.onClear=function(e){this.clear.emit(e)},e.prototype.ngOnInit=function(){var e=this;this.i18n$=this.i18n.change.subscribe(function(){e.locale=e.i18n.getData("noticeIcon"),e.cdr.markForCheck()})},e.prototype.ngOnChanges=function(){this.cdr.markForCheck()},e.prototype.ngOnDestroy=function(){this.i18n$.unsubscribe()},e.decorators=[{type:t.Component,args:[{selector:"notice-icon",exportAs:"noticeIcon",template:'<ng-template #badgeTpl>\n  <nz-badge [nzCount]="count"\n            [ngClass]="btnClass"\n            [nzStyle]="{ \'box-shadow\': \'none\' }">\n    <i nz-icon\n       type="bell"\n       [ngClass]="btnIconClass"></i>\n  </nz-badge>\n</ng-template>\n<div *ngIf="data?.length === 0">\n  <ng-template [ngTemplateOutlet]="badgeTpl"></ng-template>\n</div>\n<nz-dropdown *ngIf="data?.length > 0"\n             [nzVisible]="popoverVisible"\n             (nzVisibleChange)="onVisibleChange($event)"\n             nzTrigger="click"\n             nzPlacement="bottomRight"\n             [nzOverlayClassName]="[\'header-dropdown\', \'notice-icon\']">\n  <div nz-dropdown>\n    <ng-template [ngTemplateOutlet]="badgeTpl"></ng-template>\n  </div>\n  <nz-spin [nzSpinning]="loading"\n           [nzDelay]="0">\n    <nz-tabset nzSelectedIndex="0">\n      <nz-tab *ngFor="let i of data"\n              [nzTitle]="i.title">\n        <notice-icon-tab [locale]="locale"\n                         [data]="i"\n                         (select)="onSelect($event)"\n                         (clear)="onClear($event)"></notice-icon-tab>\n      </nz-tab>\n    </nz-tabset>\n  </nz-spin>\n</nz-dropdown>\n',host:{"[class.notice-icon__btn]":"true"},changeDetection:t.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:n.DelonLocaleService},{type:t.ChangeDetectorRef}]},e.propDecorators={data:[{type:t.Input}],count:[{type:t.Input}],loading:[{type:t.Input}],popoverVisible:[{type:t.Input}],btnClass:[{type:t.Input}],btnIconClass:[{type:t.Input}],select:[{type:t.Output}],clear:[{type:t.Output}],popoverVisibleChange:[{type:t.Output}]},l([o.InputNumber(),c("design:type",Number)],e.prototype,"count",void 0),l([o.InputBoolean(),c("design:type",Object)],e.prototype,"loading",void 0),l([o.InputBoolean(),c("design:type",Object)],e.prototype,"popoverVisible",void 0),e}(),u=[d],m=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[i.CommonModule,n.DelonLocaleModule,a.NgZorroAntdModule],declarations:p(u,[s]),exports:p(u)}]}],e}();e.NoticeIconComponent=d,e.NoticeIconModule=m,e.NoticeIconTabComponent=s,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=noticeIcon.umd.min.js.map
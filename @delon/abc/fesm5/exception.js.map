{"version":3,"file":"exception.js.map","sources":["ng://@delon/abc/exception/exception.component.ts","ng://@delon/abc/exception/exception.module.ts"],"sourcesContent":["import {\n  Component,\n  Input,\n  ViewChild,\n  ElementRef,\n  OnInit,\n  OnDestroy,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { isEmpty } from '@delon/util';\nimport { DelonLocaleService } from '@delon/theme';\n\n@Component({\n  selector: 'exception',\n  template: `\n  <div class=\"exception__img-block\">\n    <div class=\"exception__img\" [ngStyle]=\"{'background-image': 'url(' + _img + ')'}\"></div>\n  </div>\n  <div class=\"exception__cont\">\n    <h1 class=\"exception__cont-title\" [innerHTML]=\"_title\"></h1>\n    <div class=\"exception__cont-desc\" [innerHTML]=\"_desc || locale[_type]\"></div>\n    <div class=\"exception__cont-actions\">\n      <div (cdkObserveContent)=\"checkContent()\" #conTpl><ng-content></ng-content></div>\n      <button *ngIf=\"!hasCon\" nz-button [routerLink]=\"['/']\" [nzType]=\"'primary'\">{{locale.backToHome}}</button>\n    </div>\n  </div>\n  `,\n  host: { '[class.exception]': 'true' },\n  preserveWhitespaces: false,\n})\nexport class ExceptionComponent implements OnInit, OnDestroy {\n  private i18n$: Subscription;\n  @ViewChild('conTpl')\n  private conTpl: ElementRef;\n\n  _type: number;\n  locale: any = {};\n  hasCon = false;\n\n  _img = '';\n  _title = '';\n  _desc = '';\n\n  @Input()\n  set type(value: 403 | 404 | 500) {\n    const item = {\n      403: {\n        img:\n          'https://gw.alipayobjects.com/zos/rmsportal/wZcnGqRDyhPOEYFcZDnb.svg',\n        title: '403',\n      },\n      404: {\n        img:\n          'https://gw.alipayobjects.com/zos/rmsportal/KpnpchXsobRgLElEozzI.svg',\n        title: '404',\n      },\n      500: {\n        img:\n          'https://gw.alipayobjects.com/zos/rmsportal/RVRUAYdCGeYNBWoKiIwB.svg',\n        title: '500',\n      },\n    }[value];\n\n    if (!item) return;\n\n    this._type = value;\n    this._img = item.img;\n    this._title = item.title;\n  }\n\n  @Input()\n  set img(value) {\n    this._img = value;\n  }\n  @Input()\n  set title(value) {\n    this._title = value;\n  }\n  @Input()\n  set desc(value) {\n    this._desc = value;\n  }\n\n  checkContent() {\n    this.hasCon = !isEmpty(this.conTpl.nativeElement);\n  }\n\n  constructor(private i18n: DelonLocaleService) {}\n\n  ngOnInit() {\n    this.i18n$ = this.i18n.change.subscribe(\n      () => (this.locale = this.i18n.getData('exception')),\n    );\n    this.checkContent();\n  }\n\n  ngOnDestroy() {\n    this.i18n$.unsubscribe();\n  }\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\n\nimport { NgZorroAntdModule } from 'ng-zorro-antd';\nimport { DelonLocaleModule } from '@delon/theme';\nimport { DelonUtilModule } from '@delon/util';\n\nimport { ExceptionComponent } from './exception.component';\n\nconst COMPONENTS = [ExceptionComponent];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule,\n    DelonUtilModule,\n    DelonLocaleModule,\n    NgZorroAntdModule,\n  ],\n  declarations: [...COMPONENTS],\n  exports: [...COMPONENTS],\n})\nexport class ExceptionModule {\n  static forRoot(): ModuleWithProviders {\n    return { ngModule: ExceptionModule, providers: [] };\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;IAwFE,4BAAoB,IAAwB;QAAxB,SAAI,GAAJ,IAAI,CAAoB;sBAnD9B,EAAE;sBACP,KAAK;oBAEP,EAAE;sBACA,EAAE;qBACH,EAAE;KA8CsC;IA5ChD,sBACI,oCAAI;;;;;QADR,UACS,KAAsB;;YAC7B,IAAM,IAAI,GAAG;gBACX,GAAG,EAAE;oBACH,GAAG,EACD,qEAAqE;oBACvE,KAAK,EAAE,KAAK;iBACb;gBACD,GAAG,EAAE;oBACH,GAAG,EACD,qEAAqE;oBACvE,KAAK,EAAE,KAAK;iBACb;gBACD,GAAG,EAAE;oBACH,GAAG,EACD,qEAAqE;oBACvE,KAAK,EAAE,KAAK;iBACb;aACF,CAAC,KAAK,CAAC,CAAC;YAET,IAAI,CAAC,IAAI;gBAAE,OAAO;YAElB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC;YACrB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC;SAC1B;;;OAAA;IAED,sBACI,mCAAG;;;;;QADP,UACQ,KAAK;YACX,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;SACnB;;;OAAA;IACD,sBACI,qCAAK;;;;;QADT,UACU,KAAK;YACb,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;SACrB;;;OAAA;IACD,sBACI,oCAAI;;;;;QADR,UACS,KAAK;YACZ,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;SACpB;;;OAAA;;;;IAED,yCAAY;;;IAAZ;QACE,IAAI,CAAC,MAAM,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;KACnD;;;;IAID,qCAAQ;;;IAAR;QAAA,iBAKC;QAJC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CACrC,cAAM,QAAC,KAAI,CAAC,MAAM,GAAG,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAC,CACrD,CAAC;QACF,IAAI,CAAC,YAAY,EAAE,CAAC;KACrB;;;;IAED,wCAAW;;;IAAX;QACE,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;KAC1B;;gBAtFF,SAAS,SAAC;oBACT,QAAQ,EAAE,WAAW;oBACrB,QAAQ,EAAE,gnBAYT;oBACD,IAAI,EAAE,EAAE,mBAAmB,EAAE,MAAM,EAAE;oBACrC,mBAAmB,EAAE,KAAK;iBAC3B;;;;gBAnBQ,kBAAkB;;;yBAsBxB,SAAS,SAAC,QAAQ;uBAWlB,KAAK;sBA2BL,KAAK;wBAIL,KAAK;uBAIL,KAAK;;6BA/ER;;;;;;;;ACUA,IAAM,UAAU,GAAG,CAAC,kBAAkB,CAAC,CAAC;;;;;;;IAc/B,uBAAO;;;IAAd;QACE,OAAO,EAAE,QAAQ,EAAE,eAAe,EAAE,SAAS,EAAE,EAAE,EAAE,CAAC;KACrD;;gBAdF,QAAQ,SAAC;oBACR,OAAO,EAAE;wBACP,YAAY;wBACZ,YAAY;wBACZ,eAAe;wBACf,iBAAiB;wBACjB,iBAAiB;qBAClB;oBACD,YAAY,WAAM,UAAU,CAAC;oBAC7B,OAAO,WAAM,UAAU,CAAC;iBACzB;;0BAtBD;;;;;;;;;;;;;;;"}

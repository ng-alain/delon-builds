{"version":3,"file":"lodop.js","sources":["ng://@delon/abc/lodop/lodop.types.ts","ng://@delon/abc/lodop/lodop.config.ts","ng://@delon/abc/lodop/lodop.service.ts","ng://@delon/abc/lodop/lodop.module.ts"],"sourcesContent":["export interface CLodop {\n  /**\n   * å¤æ­æ¯å¦æ¯æhttpsåè®®çå±æ§\n   *\n   * - 0 ä¸æ¯æ\n   * - 1 æ¯æ\n   * - 2 æ¯æä¸å·²å¯å¨ï¼httpsæå¡éåç¬å¯å¨)\n   */\n  readonly HTTPS_STATUS: number;\n\n  /** ç»æåè°å½æ°ä¿ç */\n  readonly On_Return_Remain: boolean;\n\n  /** ç»æåè°å½æ° */\n  On_Return: ((taskID: string, value: boolean | string) => void) | null;\n\n  /** å»ºç«æå°æºåå */\n  Create_Printer_List(el: Element): void;\n\n  /** å»ºç«çº¸å¼ ç±»ååå */\n  Create_PageSize_List(el: Element, iPrintIndex: number): void;\n}\n\nexport interface Lodop extends CLodop {\n  [key: string]: any;\n\n  /** è·å¾è½¯ä»¶çæ¬å· */\n  VERSION: string;\n\n  /**\n   * æå°åå§åãåå§åè¿è¡ç¯å¢ï¼æ¸çå¼å¸¸æå°éççç³»ç»èµæºï¼è®¾å®æå°ä»»å¡åã\n   *\n   * **å»ºè®®æè¦æ±ï¼**è¯¥å½æ°ä¸PRINT_INITAé½æåå§ååè½ï¼æ¯ä¸ªæå°äºå¡è³å°åå§åä¸æ¬¡ï¼å»ºè®®æå°ç¨åºé¦åè°ç¨è¯¥å½æ°ãä»»å¡åè¦å°½éåºå«äºå¶å®æå°ä»»å¡ï¼è­¬å¦ç¨âXXåä½_XXç®¡çä¿¡æ¯ç³»ç»_XXå­ç³»ç»_XXæ¨¡å_XXæå°ä½ä¸âå­æ ·ã\n   * ä¸å¸ææç»ç¨æ·æ´æ¹æå°å¸å±æ¶ï¼åè®¾strTaskNameç©ºã\n   *\n   * @param strTaskName æå°ä»»å¡å\n   * @returns è¿åé»è¾çè¡¨ç¤ºåå§åæåï¼é»è¾åè¡¨ç¤ºåå§åå¤±è´¥ï¼å¤±è´¥åå æï¼åä¸ä¸ªæå°äºå¡æ²¡æå®æï¼æä½ç³»ç»æ²¡ææ·»å æå°æº(é©±å¨)ç­\n   */\n  PRINT_INIT(strTaskName: string): boolean;\n\n  /** è®¾å®çº¸å¼ å¤§å° */\n  SET_PRINT_PAGESIZE(\n    intOrient: number,\n    PageWidth: number | string,\n    PageHeight: number | string,\n    strPageName: string,\n  ): void;\n\n  /** å¢å è¶ææ¬æå°é¡¹(æ®éæ¨¡å¼) */\n  ADD_PRINT_HTM(\n    Top: number | string,\n    Left: number | string,\n    Width: number | string,\n    Height: number | string,\n    strHtmlContent: string,\n  ): void;\n\n  /**\n   * å¢å è¡¨æ ¼æå°é¡¹ï¼è¶ææ¬æ¨¡å¼ï¼\n   */\n  ADD_PRINT_TABLE(\n    Top: number | string,\n    Left: number | string,\n    Width: number | string,\n    Height: number | string,\n    strHtml: string,\n  ): void;\n\n  /**\n   * å¢å è¡¨æ ¼æå°é¡¹ï¼è¶ææ¬æ¨¡å¼ï¼\n   */\n  ADD_PRINT_TABLE(\n    Top: number | string,\n    Left: number | string,\n    Width: number | string,\n    Height: number | string,\n    strHtml: string,\n  ): void;\n\n  /**\n   * å¢å è¶ææ¬æå°é¡¹ï¼URLæ¨¡å¼ï¼\n   */\n  ADD_PRINT_URL(\n    Top: number | string,\n    Left: number | string,\n    Width: number | string,\n    Height: number | string,\n    strURL: string,\n  ): void;\n\n  /** å¢å çº¯ææ¬æå°é¡¹ */\n  ADD_PRINT_TEXT(\n    Top: number | string,\n    Left: number | string,\n    Width: number | string,\n    Height: number | string,\n    strContent: string,\n  ): void;\n\n  /** å¢å å¾çæå°é¡¹ */\n  ADD_PRINT_IMAGE(\n    Top: number | string,\n    Left: number | string,\n    Width: number | string,\n    Height: number | string,\n    strHtmlContent: string,\n  ): void;\n\n  /** å¢å ç©å½¢çº¿ */\n  ADD_PRINT_RECT(\n    Top: number | string,\n    Left: number | string,\n    Width: number | string,\n    Height: number | string,\n    intLineStyle: number,\n    intLineWidth: number,\n  ): void;\n\n  /** å¢å æ¤­åçº¿ */\n  ADD_PRINT_ELLIPSE(\n    Top: number | string,\n    Left: number | string,\n    Width: number | string,\n    Height: number | string,\n    intLineStyle: number,\n    intLineWidth: number,\n  ): void;\n\n  /** å¢å ç´çº¿ */\n  ADD_PRINT_LINE(\n    Top1: number | string,\n    Left1: number | string,\n    Top2: number | string,\n    Left2: number | string,\n    intLineStyle: number,\n    intLineWidth: number,\n  ): void;\n\n  /** å¢å æ¡å½¢ç  */\n  ADD_PRINT_BARCODE(\n    Top: number | string,\n    Left: number | string,\n    Width: number | string,\n    Height: number | string,\n    CodeType: string,\n    CodeValue: string,\n  ): void;\n\n  /** å¢å å¾è¡¨ */\n  ADD_PRINT_CHART(\n    Top: number | string,\n    Left: number | string,\n    Width: number | string,\n    Height: number | string,\n    ChartType: number,\n    strHtml: string,\n  ): void;\n\n  /** è£è½½ææ¡£å¼æ¨¡æ¿ */\n  ADD_PRINT_DATA(strDataStyle: string, varDataValue: any): void;\n\n  /** è®¾ç½®æå°é¡¹é£æ ¼ */\n  SET_PRINT_STYLE(strStyleName: LodopStyleValue, varStyleValue: number | string): void;\n\n  /** æå°é¢è§ */\n  PREVIEW(): number;\n\n  /** ç´æ¥æå° */\n  PRINT(): string;\n\n  /** æå°ç»´æ¤ */\n  PRINT_SETUP(): string;\n\n  /** æå°è®¾è®¡ */\n  PRINT_DESIGN(): string;\n\n  /** å¼ºå¶åé¡µ */\n  NEWPAGE(): boolean;\n\n  /** è·å¾æå°è®¾å¤ä¸ªæ° */\n  GET_PRINTER_COUNT(): number;\n\n  /** è·å¾æå°è®¾å¤åç§° */\n  GET_PRINTER_NAME(strPrinterIDandType: number | string): string;\n\n  /** æå®æå°è®¾å¤ */\n  SET_PRINTER_INDEX(oIndexOrName: number | string): boolean;\n  /** ãCLodopãæå®æå°æº */\n  SET_PRINTER_INDEX(\n    DriverIndex: number | string,\n    PrinterIDandName: number | string,\n    SubDevIndex: number | string,\n  ): boolean;\n\n  /** éæ©æå°è®¾å¤ */\n  SELECT_PRINTER(): number;\n\n  /** è®¾ç½®æ¾ç¤ºæ¨¡å¼ */\n  SET_SHOW_MODE(strModeType: string, varModeValue: number | string): boolean;\n\n  /** è®¾ç½®æå°æ¨¡å¼ */\n  SET_PRINT_MODE(strModeType: string, varModeValue: number | string): boolean | string;\n\n  /** è®¾ç½®æå°ä»½æ° */\n  SET_PRINT_COPIES(intCopies: number): boolean;\n\n  /** è®¾ç½®é¢è§çªå£ */\n  SET_PREVIEW_WINDOW(\n    intDispMode: number,\n    intToolMode: number,\n    blDirectPrint: number,\n    inWidth: number,\n    intHeight: number,\n    strTitleButtonCaptoin: string,\n  ): void;\n\n  /** æå®èæ¯å¾ */\n  ADD_PRINT_SETUP_BKIMG(strImgHtml: string): void;\n\n  /** åéåå§æ°æ® */\n  SEND_PRINT_RAWDATA(strRawData: string): boolean;\n\n  /** åç«¯å£æ°æ® */\n  WRITE_PORT_DATA(strPortName: string, strData: string): boolean;\n\n  /** è¯»ç«¯å£æ°æ® */\n  READ_PORT_DATA(strPortName: string): string;\n\n  /** è·å¾éç½®æä»¶å */\n  GET_PRINT_INIFFNAME(strPrintTask: string): string;\n\n  /** è·å¾çº¸å¼ ç±»ååæ¸å */\n  GET_PAGESIZES_LIST(oPrinterName: number | string, strSplit: string): string;\n\n  /** åæ¬å°æä»¶åå®¹ */\n  WRITE_FILE_TEXT(intWriteMode: number | string, strFileName: string, strText: string): string;\n\n  /** è¯»æ¬å°æä»¶åå®¹ */\n  GET_FILE_TEXT(strFileName: string): string | null;\n\n  /** è¯»æ¬å°æä»¶æ¶é´ */\n  GET_FILE_TIME(strFileName: string): string | null;\n\n  /** å¤æ­æ¬å°æä»¶æ¯å¦å­å¨ */\n  IS_FILE_EXIST(strFileName: string): boolean;\n\n  /** è·å¾ç³»ç»ä¿¡æ¯ */\n  GET_SYSTEM_INFO(strInfoType: string): boolean;\n\n  /** è·å¾æ°æ®å¼ */\n  GET_VALUE(ValueType: string, ValueIndex: number | string): any;\n\n  /** æ°æ®æ ¼å¼è½¬æ¢ */\n  FORMAT(oType: string, oValue: any): any;\n\n  /** è·å¾å¯¹è¯æ¡ç»æå¼ */\n  GET_DIALOG_VALUE(oType: string, oPreValue: string): string;\n\n  /** (å¢å¼ºå)æå°åå§å */\n  PRINT_INITA(\n    Top: number | string,\n    Left: number | string,\n    Width: number | string,\n    Height: number | string,\n    strPrintName: string,\n  ): boolean;\n\n  /** (å¢å¼ºå)å¢å è¶ææ¬æå°é¡¹(å¾å½¢æ¨¡å¼) */\n  ADD_PRINT_HTML(\n    Top: number | string,\n    Left: number | string,\n    Width: number | string,\n    Height: number | string,\n    strHtmlContent: string,\n  ): void;\n\n  /** (å¢å¼ºå)å¢å è¡¨æ ¼æå°é¡¹ï¼URLæ¨¡å¼ï¼ */\n  ADD_PRINT_TBURL(\n    Top: number | string,\n    Left: number | string,\n    Width: number | string,\n    Height: number | string,\n    strURL: string,\n  ): void;\n\n  /** (å¢å¼ºå)å¢å çº¯ææ¬æå°é¡¹ */\n  ADD_PRINT_TEXTA(\n    Top: number | string,\n    Left: number | string,\n    Width: number | string,\n    Height: number | string,\n    strContent: string,\n  ): void;\n\n  /** (å¢å¼ºå)è®¾ç½®æå°é¡¹é£æ ¼A, ç»§æ¿ `SET_PRINT_STYLE` çææå±æ§ */\n  SET_PRINT_STYLEA(varItemNameID: number | string, strStyleName: string, varStyleValue: number | string): void;\n\n  /** (å¢å¼ºå)å¯¼åºæ°æ®å°æä»¶ */\n  SAVE_TO_FILE(strFileName: string): boolean;\n\n  /** (å¢å¼ºå)è®¾ç½®ä¿å­æ¨¡å¼ */\n  SET_SAVE_MODE(varModeName: string, varModeValue: number | string): boolean;\n\n  /** (å¢å¼ºå)å¢å å¾å½¢ */\n  ADD_PRINT_SHAPE(\n    intShapeType: number,\n    Top: number | string,\n    Left: number | string,\n    Width: number | string,\n    Height: number | string,\n    intLineStyle: number,\n    intLineWidth: number,\n    varColor: number | string,\n  ): void;\n\n  /** (å¢å¼ºå)æå®æå°è®¾å¤ */\n  SET_PRINTER_INDEXA(oIndexOrName: number | string): boolean;\n\n  /** (å¢å¼ºå)å¼ºå¶åé¡µ */\n  NEWPAGEA(): boolean;\n\n  /** (å¢å¼ºå)æå°é¢è§A */\n  PREVIEWA(): number;\n\n  /** (å¢å¼ºå)æå°é¢è§B */\n  PREVIEWB(): number;\n\n  /** ç´æ¥æå°A */\n  PRINTA(): boolean;\n\n  /** ç´æ¥æå°B */\n  PRINTB(): boolean;\n\n  /** æ¾ç¤ºå¾è¡¨ */\n  SHOW_CHART(): void;\n\n  /** æ§å¶çé¢å¨ä½ */\n  DO_ACTION(ActName: string, ActValue: number | string): void;\n\n  /**\n   * è®¾ç½®è½¯ä»¶äº§åæ³¨åä¿¡æ¯\n   *\n   * @param  strCompanyName æ³¨ååä½åç§°ï¼ç¨éä¸æ§ä»¶åæ°CompanyNameä¸æ ·ã\n   * @param  strLicense ä¸»æ³¨åå·ï¼ç¨éä¸æ§ä»¶åæ°Licenseä¸æ ·ã\n   * @param  strLicenseA éå æ³¨åå·Aï¼ç¨éä¸æ§ä»¶åæ°LicenseAä¸æ ·ã\n   * @param  strLicenseB éå æ³¨åå·Bï¼ç¨éä¸æ§ä»¶åæ°LicenseBä¸æ ·ã\n   */\n  SET_LICENSES(strCompanyName: string, strLicense: string, strLicenseA?: string, strLicenseB?: string): void;\n\n  // tslint:disable-next-line: member-ordering\n  webskt: WebSocket;\n}\n\nexport type LodopStyleValue =\n  | 'FontName'\n  | 'FontSize'\n  | 'FontColor'\n  | 'Bold'\n  | 'Italic'\n  | 'Underline'\n  | 'Alignment'\n  | 'Angle'\n  | 'ItemType'\n  | 'HOrient'\n  | 'VOrient'\n  | 'PenWidth'\n  | 'PenStyle'\n  | 'Stretch'\n  | 'PreviewOnly'\n  | 'ReadOnly';\n\nexport interface LodopResult {\n  /** æ¯å¦æå */\n  ok: boolean;\n  /** éè¯¯ç  */\n  status?: string;\n  /** æåæ¶æºå¸¦ LODOP å¯¹è±¡ */\n  lodop?: Lodop;\n  /** éè¯¯ä¿¡æ¯ */\n  error?: any;\n}\n\nexport interface LodopPrintResult {\n  /** æ¯å¦æå */\n  ok: boolean;\n  /** éè¯¯ä¿¡æ¯ */\n  error?: string;\n  /** ä»£ç  */\n  code: string;\n  /** å¨æåæ°ä¸ä¸æå¯¹è±¡ */\n  item: any;\n  /** ä»£ç è§£æè¡¨è¾¾å¼ */\n  parser?: RegExp;\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({ providedIn: 'root' })\nexport class LodopConfig {\n  /**\n   * æ³¨åä¿¡æ¯ï¼ä¸»æ³¨åå·\n   */\n  license: string;\n  /**\n   * æ³¨åä¿¡æ¯ï¼éå æ³¨åå·A\n   */\n  licenseA: string;\n  /**\n   * æ³¨åä¿¡æ¯ï¼éå æ³¨åå·B\n   */\n  licenseB?: string;\n  /**\n   * æ³¨åä¿¡æ¯ï¼æ³¨ååä½åç§°\n   */\n  companyName?: string;\n  /**\n   * Lodop è¿ç¨èæ¬URLå°åï¼**æ³¨æ**å¡å¿ä½¿ç¨ `name` å±æ§æå®åéå¼\n   *\n   * - http://localhost:18000/CLodopfuncs.js\n   * - https://localhost:8443/CLodopfuncs.js [é»è®¤]\n   */\n  url?: string;\n  /**\n   * Lodop åéåï¼é»è®¤ï¼`CLODOP`\n   */\n  name?: string;\n  /**\n   * æ£æ¥æ¬¡æ°ï¼é»è®¤ `100`ï¼å½æ£æ¥è¶è¿æ¶è§ä¸ºå¼å¸¸ï¼è¿æ¯å ä¸º Lodop éè¦è¿æ¥ WebSocket\n   */\n  checkMaxCount?: number;\n}\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { of, Observable, Subject } from 'rxjs';\n\nimport { LazyService } from '@delon/util';\n\nimport { LodopConfig } from './lodop.config';\nimport { Lodop, LodopPrintResult, LodopResult } from './lodop.types';\n\n@Injectable({ providedIn: 'root' })\nexport class LodopService implements OnDestroy {\n  constructor(private defCog: LodopConfig, private scriptSrv: LazyService) {\n    this.cog = defCog;\n  }\n\n  /**\n   * è·åæéæ°è®¾ç½®éç½®\n   *\n   * **æ³¨ï¼**éæ°è®¾ç½®ä¼åç½®éæ°å è½½èæ¬èµæº\n   */\n  get cog() {\n    return this._cog;\n  }\n  set cog(value: LodopConfig) {\n    this._cog = {\n      url: 'https://localhost:8443/CLodopfuncs.js',\n      name: 'CLODOP',\n      companyName: '',\n      checkMaxCount: 100,\n      ...this.defCog,\n      ...value,\n    };\n  }\n\n  /** äºä»¶åæ´éç¥ */\n  get events(): Observable<LodopPrintResult> {\n    return this._events.asObservable();\n  }\n\n  /** è·å lodop å¯¹è±¡ */\n  get lodop(): Observable<LodopResult> {\n    if (this._lodop) return of({ ok: true, lodop: this._lodop } as LodopResult);\n    if (this.pending) return this._init.asObservable();\n\n    this.request();\n\n    return this._init.asObservable();\n  }\n\n  /** è·åæå°æºåè¡¨ */\n  get printer(): string[] {\n    this.check();\n    const ret: string[] = [];\n    const count = this._lodop!.GET_PRINTER_COUNT();\n    for (let index = 0; index < count; index++) {\n      ret.push(this._lodop!.GET_PRINTER_NAME(index));\n    }\n    return ret;\n  }\n\n  private _cog: LodopConfig;\n  private pending = false;\n  private _lodop: Lodop | null = null;\n  private _init = new Subject<LodopResult>();\n  private _events = new Subject<LodopPrintResult>();\n  private printBuffer: any[] = [];\n\n  private check() {\n    if (!this._lodop) throw new Error(`è¯·å¡å¿åè°ç¨ lodop è·åå¯¹è±¡`);\n  }\n\n  private request(): void {\n    this.pending = true;\n\n    const url = `${this.cog.url}?name=${this.cog.name}`;\n    let checkMaxCount = this.cog.checkMaxCount as number;\n    const onResolve = (status, error?: {}) => {\n      this._init.next({\n        ok: status === 'ok',\n        status,\n        error,\n        lodop: this._lodop!,\n      });\n    };\n    const checkStatus = () => {\n      --checkMaxCount;\n      if (this._lodop!.webskt && this._lodop!.webskt.readyState === 1) {\n        onResolve('ok');\n      } else {\n        if (checkMaxCount < 0) {\n          onResolve('check-limit');\n          return;\n        }\n        setTimeout(() => checkStatus(), 100);\n      }\n    };\n\n    this.scriptSrv.loadScript(url).then(res => {\n      if (res.status !== 'ok') {\n        this.pending = false;\n        onResolve('script-load-error', res[0]);\n        return;\n      }\n      if (window.hasOwnProperty(this.cog.name!)) {\n        this._lodop = window[this.cog.name!] as Lodop;\n      }\n      if (this._lodop === null) {\n        onResolve('load-variable-name-error', { name: this.cog.name });\n        return;\n      }\n      this._lodop.SET_LICENSES(this.cog.companyName!, this.cog.license, this.cog.licenseA, this.cog.licenseB);\n      checkStatus();\n    });\n  }\n\n  /** éç½® lodop å¯¹è±¡ */\n  reset() {\n    this._lodop = null;\n    this.pending = false;\n    this.request();\n  }\n\n  /**\n   * éå ä»£ç è³ `lodop` å¯¹è±¡ä¸ï¼å­ç¬¦ä¸²ç±»æ¯æ `{{key}}` çå¨æåæ°\n   *\n   * **æ³¨ï¼** ä»£ç æ¯ææå°è®¾è®¡æäº§çå­ç¬¦ä¸²æ°æ®\n   *\n   * @param code ä»£ç \n   * @param contextObj å¨æåæ°ä¸ä¸æå¯¹è±¡\n   * @param parser èªå®ä¹è§£æè¡¨è¾¾å¼ï¼é»è®¤ï¼`/LODOP\\.([^(]+)\\(([^\\n]+)\\);/i`\n   */\n  attachCode(code: string, contextObj?: {}, parser?: RegExp): void {\n    this.check();\n    if (!parser) parser = /LODOP\\.([^(]+)\\(([^\\n]+)\\);/i;\n    code.split('\\n').forEach(line => {\n      const res = parser!.exec(line.trim());\n      if (!res) return;\n      const fn = this._lodop![res[1]];\n      if (fn) {\n        let arr: any[] | null = null;\n        try {\n          // tslint:disable-next-line: function-constructor\n          const fakeFn = new Function(`return [${res[2]}]`);\n          arr = fakeFn();\n        } catch {}\n\n        if (arr != null && Array.isArray(arr) && contextObj) {\n          for (let i = 0; i < arr.length; i++) {\n            if (typeof arr[i] === 'string') {\n              arr[i] = (arr[i] as string).replace(/{{(.*?)}}/g, (_match, key) => contextObj[key.trim()] || '');\n            }\n          }\n        }\n        fn.apply(this._lodop, arr!);\n      }\n    });\n  }\n\n  /**\n   * æå¼æå°è®¾è®¡å³é­åèªå¨è¿åä»£ç \n   *\n   * **æ³¨ï¼** èªå¨çå¬ `On_Return` äºä»¶ï¼è¿è¡åä¼ç§»é¤\n   */\n  design(): Promise<string> {\n    this.check();\n    const tid = this._lodop!.PRINT_DESIGN();\n    return new Promise(resolve => {\n      this._lodop!.On_Return = (taskID: string, value: boolean | string) => {\n        if (tid !== taskID) return;\n        this._lodop!.On_Return = null;\n        resolve('' + value);\n      };\n    });\n  }\n  private printDo() {\n    const data = this.printBuffer.shift();\n    if (!data) return;\n    this.attachCode(data.code, data.item, data.parser);\n    const tid = this._lodop!.PRINT();\n    this._lodop!.On_Return = (taskID: string, value: boolean | string) => {\n      if (tid !== taskID) return;\n      this._lodop!.On_Return = null;\n      this._events.next({\n        ok: value === true,\n        error: value === true ? null : value,\n        ...data,\n      });\n      this.printDo();\n    };\n  }\n\n  /**\n   * ç«å³æå°ï¼ä¸è¬ç¨äºæ¹éå¥æ\n   *\n   * @param code ä»£ç \n   * @param contextObj å¨æåæ°ä¸ä¸æå¯¹è±¡\n   * @param parser èªå®ä¹è§£æè¡¨è¾¾å¼ï¼é»è®¤ï¼`/LODOP\\.([^(]+)\\(([^\\n]+)\\);/i`\n   */\n  print(code: string, contextObj: {} | Array<{}>, parser?: RegExp): void {\n    this.check();\n    if (contextObj) {\n      this.printBuffer.push(\n        ...(Array.isArray(contextObj) ? contextObj : [contextObj]).map(item => {\n          return { code, parser, item };\n        }),\n      );\n    }\n    this.printDo();\n  }\n\n  ngOnDestroy(): void {\n    this._init.unsubscribe();\n    this._events.unsubscribe();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { DelonUtilModule } from '@delon/util';\n\n@NgModule({\n  imports: [DelonUtilModule],\n})\nexport class LodopModule {}\n"],"names":[],"mappings":"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"}
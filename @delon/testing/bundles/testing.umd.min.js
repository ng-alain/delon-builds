/**
 * @license ng-alain(cipchk@qq.com) v11.3.0
 * (c) 2020 cipchk https://ng-alain.com/
 * License: MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core/testing"),require("@angular/platform-browser"),require("ng-zorro-antd/dropdown")):"function"==typeof define&&define.amd?define("@delon/testing",["exports","@angular/core/testing","@angular/platform-browser","ng-zorro-antd/dropdown"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).delon=t.delon||{},t.delon.testing={}),t.ng.core.testing,t.ng.platformBrowser,t["ng-zorro-antd/dropdown"])}(this,(function(t,e,n,o){"use strict";
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function r(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var o=document.createEvent("MouseEvent");return o.initMouseEvent(t,!1,!1,window,0,e,n,e,n,!1,!1,!1,!1,0,null),o}function i(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var o=document.createEvent("UIEvent"),r={pageX:e,pageY:n};return o.initUIEvent(t,!0,!0,window,0),Object.defineProperties(o,{touches:{value:[r]}}),o}function c(t,e,n,o){var r=document.createEvent("KeyboardEvent"),i=(r.initKeyEvent||r.initKeyboardEvent).bind(r),c=r.preventDefault;return i(t,!0,!0,window,0,0,0,0,0,e),Object.defineProperties(r,{keyCode:{get:function(){return e}},key:{get:function(){return o}},target:{get:function(){return n}}}),r.preventDefault=function(){return Object.defineProperty(r,"defaultPrevented",{get:function(){return!0}}),c.apply(this,arguments)},r}function u(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!0);var o=document.createEvent("Event");return o.initEvent(t,e,n),o}function a(t,e){return t.dispatchEvent(e),e}function s(t,e,n){return a(t,"string"==typeof e?u(e,n):e)}var p=function(){function t(t){void 0===t&&(t=null),this.fixture=t}return Object.defineProperty(t.prototype,"dl",{get:function(){return this.fixture.debugElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.fixture.componentInstance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"comp",{get:function(){return this.context.comp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chart",{get:function(){return this.comp.chart},enumerable:!1,configurable:!0}),t.prototype.genModule=function(t,n){return e.TestBed.configureTestingModule({imports:[t],declarations:[n]}),this},t.prototype.genComp=function(t,n){return void 0===n&&(n=!1),this.fixture=e.TestBed.createComponent(t),n&&this.dcFirst(),this},t.prototype.makeModule=function(t,e,n){return void 0===n&&(n={dc:!0}),this.genModule(t,e).genComp(e,n.dc),this},t.prototype.dcFirst=function(){return this.dc(),e.flush(),e.discardPeriodicTasks(),this.comp&&void 0!==this.comp.chart&&spyOn(this.comp.chart,"destroy"),this},t.prototype.dc=function(){return this.fixture.changeDetectorRef.markForCheck(),this.fixture.detectChanges(),this},t.prototype.end=function(){return e.tick(201),e.flush(),e.discardPeriodicTasks(),this},t.prototype.destroy=function(){this.comp.ngOnDestroy()},t.prototype.newData=function(t){return this.context.data=t,this.dc(),this},t.prototype.getEls=function(t){return this.dl.nativeElement.querySelectorAll(t)},t.prototype.getEl=function(t){return this.dl.nativeElement.querySelector(t)},t.prototype.getController=function(t){return this.chart.getController(t)},t.prototype.isCanvas=function(t){return void 0===t&&(t=!0),this.isExists("canvas",t),this},t.prototype.isText=function(t,e){var n=this.getEl(t);return expect(n?n.textContent.trim():"").toBe(e),this},t.prototype.isExists=function(t,e){return void 0===e&&(e=!0),expect(null!=this.getEl(t)).toBe(e),this},t.prototype.checkOptions=function(t,e){return expect(this.chart[t]).toBe(e),this},t.prototype.checkAttrOptions=function(t,e,n){var o=this.chart[t][0].attributeOption[e];return expect(o.field).toBe(n),this},t.prototype.isXScalesCount=function(t){var e=this.chart.getXScale();return expect(e.values.length).toBe(t),this},t.prototype.isYScalesCount=function(t){var e=this.chart.getYScales();return expect(e.length).toBe(1),expect(e[0].values.length).toBe(t),this},t.prototype.isDataCount=function(t,e){var n=this.chart[t];return expect(n.length).toBeGreaterThan(0),expect(n[0].data.length).toBe(e),this},Object.defineProperty(t.prototype,"firstDataPoint",{get:function(){return this.chart.getXY(this.context.data[0])},enumerable:!1,configurable:!0}),t.prototype.checkTooltip=function(t,e){return e||(e=this.firstDataPoint),this.chart.showTooltip(e),expect(null!=this.chart.getController("tooltip")).toBe(!0),this},t.prototype.checkClickItem=function(){var t=this.firstDataPoint,e=this.chart.canvas.getClientByPoint(t.x,t.y),n=new MouseEvent("click",{clientX:e.x,clientY:e.y});return this.chart.canvas.get("el").dispatchEvent(n),this},t}();var d=function(){function t(t){this.fixture=t}return Object.defineProperty(t.prototype,"component",{get:function(){return this.fixture.componentInstance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"el",{get:function(){return this.fixture.debugElement.nativeElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dl",{get:function(){return this.fixture.debugElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.fixture.componentInstance},enumerable:!1,configurable:!0}),t.prototype.detectChanges=function(){this.fixture.detectChanges()},t.prototype.resolve=function(t){return this.fixture.debugElement.injector.get(t)},t}();t.DROPDOWN_MIN_TIME=1e3,t.PageG2=p,t.PageG2DataCount=2,t.PageG2Height=100,t.TestContext=d,t.checkDelay=function(t,n,o){void 0===o&&(o=null),null==o&&(o=(new p).makeModule(t,n,{dc:!1}));var r=o.context;void 0!==r.delay?(r.delay=100,o.dc(),o.comp.ngOnDestroy(),expect(null==o.chart).toBe(!0),e.tick(201),e.discardPeriodicTasks()):console.warn('You muse be dinfed "delay" property in test component')},t.createFakeEvent=u,t.createKeyboardEvent=c,t.createMouseEvent=r,t.createTestContext=function(t){return new d(e.TestBed.createComponent(t))},t.createTouchEvent=i,t.dispatchDropDown=function(t,r,i){void 0===i&&(i=!0);var c=t.query(n.By.directive(o.NzDropDownDirective));if(i&&null==c)return!1;var u=c.injector.get(o.NzDropDownDirective).elementRef.nativeElement;return s(u,"click"===r?"click":"mouseenter"),e.tick(1e3),!0},t.dispatchEvent=a,t.dispatchFakeEvent=s,t.dispatchKeyboardEvent=function(t,e,n,o){return a(t,c(e,n,o))},t.dispatchMouseEvent=function(t,e,n,o,i){return void 0===n&&(n=0),void 0===o&&(o=0),void 0===i&&(i=r(e,n,o)),a(t,i)},t.dispatchTouchEvent=function(t,e,n,o){return void 0===n&&(n=0),void 0===o&&(o=0),a(t,i(e,n,o))},t.typeInElement=function(t,e){e.focus(),e.value=t,s(e,"input")},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=testing.umd.min.js.map
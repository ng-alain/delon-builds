/**
 * @license ng-alain(cipchk@qq.com) v2.0.0-beta.5
 * (c) 2018 Cipchk https://ng-alain.com/
 * License: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@delon/util"),require("@angular/common"),require("ng-zorro-antd")):"function"==typeof define&&define.amd?define("@delon/chart/radar",["exports","@angular/core","@delon/util","@angular/common","ng-zorro-antd"],t):t((e.delon=e.delon||{},e.delon.chart=e.delon.chart||{},e.delon.chart.radar={}),e.ng.core,e.delon.util,e.ng.common,e.ngZorro.antd)}(this,function(e,t,n,i,r){"use strict";var o=function(){function e(e,t){this.cd=e,this.zone=t,this._title="",this._height=0,this.padding=[44,30,16,30],this._hasLegend=!0,this._tickCount=4,this.data=[],this.colors=["#1890FF","#FACC14","#2FC25B","#8543E0","#F04864","#13C2C2","#fa8c16","#a0d911"],this.legendData=[]}return Object.defineProperty(e.prototype,"title",{set:function(e){e instanceof t.TemplateRef?(this._title=null,this._titleTpl=e):this._title=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(e){this._height=n.toNumber(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasLegend",{get:function(){return this._hasLegend},set:function(e){this._hasLegend=n.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tickCount",{set:function(e){this._tickCount=n.toNumber(e)},enumerable:!0,configurable:!0}),e.prototype._click=function(e){var n=this;this.legendData[e].checked=!this.legendData[e].checked,this.chart&&(this.chart.filter("name",function(t){return n.legendData.find(function(e){return e.name===t}).checked}),this.chart.repaint())},e.prototype.runInstall=function(){var e=this;this.zone.runOutsideAngular(function(){return setTimeout(function(){return e.install()})})},e.prototype.install=function(){var e=this;if(this.data&&!(this.data&&this.data.length<1)){this.uninstall(),this.node.nativeElement.innerHTML="";var t=new G2.Chart({container:this.node.nativeElement,forceFit:!0,height:+this.height-(this.hasLegend?80:22),padding:this.padding});t.source(this.data,{value:{min:0,tickCount:this._tickCount}}),t.coord("polar"),t.legend(!1),t.axis("label",{line:null,labelOffset:8,labels:{label:{fill:"rgba(0, 0, 0, .65)"}},grid:{line:{stroke:"#e9e9e9",lineWidth:1,lineDash:[0,0]}}}),t.axis("value",{grid:{type:"polygon",line:{stroke:"#e9e9e9",lineWidth:1,lineDash:[0,0]}},labels:{label:{fill:"rgba(0, 0, 0, .65)"}}}),t.line().position("label*value").color("name",this.colors),t.point().position("label*value").color("name",this.colors).shape("circle").size(3),t.render(),this.chart=t,this.hasLegend&&this.zone.run(function(){e.legendData=t.getAllGeoms()[0]._attrs.dataArray.map(function(e){return{name:e[0]._origin.name,color:e[0].color,checked:!0,value:e.reduce(function(e,t){return e+t._origin.value},0)}}),e.cd.detectChanges()})}},e.prototype.uninstall=function(){this.chart&&(this.chart.destroy(),this.chart=null)},e.prototype.ngOnChanges=function(){this.runInstall()},e.prototype.ngOnDestroy=function(){this.uninstall()},e.decorators=[{type:t.Component,args:[{selector:"g2-radar",template:'<h4 *ngIf="_title; else _titleTpl">\n  {{ _title }}</h4>\n<div #container></div>\n<div nz-row class="g2-radar__legend" *ngIf="hasLegend">\n  <div nz-col [nzSpan]="24 / legendData.length" *ngFor="let i of legendData; let idx = index" (click)="_click(idx)"\n    class="g2-radar__legend-item">\n    <i class="g2-radar__legend-dot" [ngStyle]="{\'background-color\': !i.checked ? \'#aaa\' : i.color}"></i>\n    {{i.name}}\n    <h6 class="g2-radar__legend-title">{{i.value}}</h6>\n  </div>\n</div>\n',host:{"[class.g2-radar]":"true"},changeDetection:t.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1}]}],e.ctorParameters=function(){return[{type:t.ChangeDetectorRef},{type:t.NgZone}]},e.propDecorators={title:[{type:t.Input}],height:[{type:t.HostBinding,args:["style.height.px"]},{type:t.Input}],padding:[{type:t.Input}],hasLegend:[{type:t.Input}],tickCount:[{type:t.Input}],data:[{type:t.Input}],colors:[{type:t.Input}],node:[{type:t.ViewChild,args:["container"]}]},e}();function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(i=o.next()).done;)a.push(i.value)}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return a}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e}var s=[o],c=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e.decorators=[{type:t.NgModule,args:[{imports:[i.CommonModule,n.DelonUtilModule,r.NgZorroAntdModule],declarations:l(s),exports:l(s)}]}],e}();e.G2RadarComponent=o,e.G2RadarModule=c,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=radar.umd.min.js.map
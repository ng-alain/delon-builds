/**
 * @license ng-alain(cipchk@qq.com) v2.0.0-beta.5
 * (c) 2018 Cipchk https://ng-alain.com/
 * License: MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@delon/util"),require("@angular/common")):"function"==typeof define&&define.amd?define("@delon/chart/gauge",["exports","@angular/core","@delon/util","@angular/common"],e):e((t.delon=t.delon||{},t.delon.chart=t.delon.chart||{},t.delon.chart.gauge={}),t.ng.core,t.delon.util,t.ng.common)}(this,function(t,e,n,r){"use strict";var o=function(){function t(t){this.zone=t,this.color="#2F9CFF",this.bgColor="#F0F2F5",this.initFlag=!1}return Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=n.toNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"percent",{set:function(t){this._percent=n.toNumber(t)},enumerable:!0,configurable:!0}),t.prototype.createData=function(){return[{name:this.title,value:+this._percent}]},t.prototype.draw=function(){if(this.chart){this.chart.guide().clear();var t=this.createData();this.chart.guide().arc({zIndex:0,top:!1,start:[0,.95],end:[100,.95],style:{stroke:this.bgColor,lineWidth:12}}),this.chart.guide().arc({zIndex:1,start:[0,.95],end:[t[0].value,.95],style:{stroke:this.color,lineWidth:12}}),this.chart.guide().html({position:["50%","95%"],html:'\n      <div style="width: 300px;text-align: center;font-size: 12px!important;">\n        <p style="font-size: 14px; color: rgba(0,0,0,0.43);margin: 0;">'+this.title+'</p>\n        <p style="font-size: 24px;color: rgba(0,0,0,0.85);margin: 0;">\n          '+t[0].value+"%\n        </p>\n      </div>"}),this.chart.changeData(t)}},t.prototype.runInstall=function(){var t=this;this.zone.runOutsideAngular(function(){return setTimeout(function(){return t.install()})})},t.prototype.install=function(){this.node.nativeElement.innerHTML="",G2.Shape.registerShape("point","pointer",{drawShape:function(t,e){var n=t.points[0];n=this.parsePoint(n);var r=this.parsePoint({x:0,y:0});return e.addShape("line",{attrs:{x1:r.x,y1:r.y,x2:n.x,y2:n.y,stroke:t.color,lineWidth:2,lineCap:"round"}}),e.addShape("circle",{attrs:{x:r.x,y:r.y,r:9.75,stroke:t.color,lineWidth:2,fill:"#fff"}})}});var t=this.createData(),e=new G2.Chart({container:this.node.nativeElement,forceFit:!0,height:this.height,padding:[10,10,30,10]});e.source(t),e.coord("polar",{startAngle:-1.2*Math.PI,endAngle:.2*Math.PI}),e.scale("value",{min:0,max:100,nice:!0,tickCount:6}),e.axis("1",!1),e.axis("value",{zIndex:2,line:null,label:{offset:-12,formatter:this.format},tickLine:null,grid:null}),e.legend(!1),e.point({generatePoints:!0}).position("value*1").shape("pointer").color(this.color).active(!1),this.chart=e,this.draw()},t.prototype.ngOnInit=function(){this.initFlag=!0,this.runInstall()},t.prototype.ngOnChanges=function(){this.initFlag&&this.draw()},t.prototype.ngOnDestroy=function(){this.chart&&this.chart.destroy()},t.decorators=[{type:e.Component,args:[{selector:"g2-gauge",template:"<div #container></div>",changeDetection:e.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:e.NgZone}]},t.propDecorators={title:[{type:e.Input}],height:[{type:e.Input}],color:[{type:e.Input}],bgColor:[{type:e.Input}],format:[{type:e.Input}],percent:[{type:e.Input}],node:[{type:e.ViewChild,args:["container"]}]},t}();function i(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}function a(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t}var l=[o],c=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:e.NgModule,args:[{imports:[r.CommonModule,n.DelonUtilModule],declarations:a(l),exports:a(l)}]}],t}();t.G2GaugeComponent=o,t.G2GaugeModule=c,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=gauge.umd.min.js.map
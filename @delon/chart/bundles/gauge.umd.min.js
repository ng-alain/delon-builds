/**
 * @license ng-alain(cipchk@qq.com) v8.9.3
 * (c) 2019 cipchk https://ng-alain.com/
 * License: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@delon/util"),require("@angular/common")):"function"==typeof define&&define.amd?define("@delon/chart/gauge",["exports","@angular/core","@delon/util","@angular/common"],t):t(((e=e||self).delon=e.delon||{},e.delon.chart=e.delon.chart||{},e.delon.chart.gauge={}),e.ng.core,e.delon.util,e.ng.common)}(this,(function(e,t,n,r){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function o(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i}function a(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e}var u=function(){function e(e,t){this.el=e,this.ngZone=t,this.delay=0,this.color="#2f9cff",this.bgColor="#f0f2f5",this.padding=[10,10,30,10]}return e.prototype.install=function(){G2.Shape.registerShape("point","pointer",{drawShape:function(e,t){var n=this.parsePoint({x:0,y:0});return t.addShape("line",{attrs:{x1:n.x,y1:n.y,x2:e.x,y2:e.y,stroke:e.color,lineWidth:2.5,lineCap:"round"}}),t.addShape("circle",{attrs:{x:n.x,y:n.y,r:9.75,stroke:e.color,lineWidth:2,fill:"#fff"}})}});var e=this.el,t=this.height,n=this.padding,r=this.format,o=this.chart=new G2.Chart({container:e.nativeElement,animate:!1,forceFit:!0,height:t,padding:n});o.point({generatePoints:!0}).position("value*1").shape("pointer").active(!1),o.coord("polar",{startAngle:-1.2*Math.PI,endAngle:.2*Math.PI}),o.scale("value",{min:0,max:100,nice:!0,tickCount:6}),o.axis("1",!1),o.axis("value",{zIndex:2,line:null,label:{offset:-12,formatter:r},tickLine:null,grid:null}),o.legend(!1),o.render(),this.attachChart()},e.prototype.attachChart=function(){var e=this,t=e.chart,n=e.bgColor,r=e.color,o=e.title,a=e.percent;if(t){t.get("geoms")[0].color(r);var i=t.guide();i.clear();var l=[{name:o,value:a}];i.arc({zIndex:0,top:!1,start:[0,.95],end:[100,.95],style:{stroke:n,lineWidth:12}}),i.arc({zIndex:1,start:[0,.95],end:[l[0].value,.95],style:{stroke:r,lineWidth:12}}),i.html({position:["50%","95%"],html:'<div class="g2-gauge__desc">\n        <div class="g2-gauge__title">'+o+'</div>\n        <div class="g2-gauge__percent">'+l[0].value+"%</div>\n      </div>"}),t.changeData(l)}},e.prototype.ngOnInit=function(){var e=this;this.ngZone.runOutsideAngular((function(){return setTimeout((function(){return e.install()}),e.delay)}))},e.prototype.ngOnChanges=function(){var e=this;this.ngZone.runOutsideAngular((function(){return e.attachChart()}))},e.prototype.ngOnDestroy=function(){var e=this;this.chart&&this.ngZone.runOutsideAngular((function(){return e.chart.destroy()}))},e.decorators=[{type:t.Component,args:[{selector:"g2-gauge",exportAs:"g2Gauge",template:"",host:{"[class.g2-gauge]":"true"},preserveWhitespaces:!1,changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:t.NgZone}]},e.propDecorators={delay:[{type:t.Input}],title:[{type:t.Input}],height:[{type:t.Input}],color:[{type:t.Input}],bgColor:[{type:t.Input}],format:[{type:t.Input}],percent:[{type:t.Input}],padding:[{type:t.Input}]},o([n.InputNumber(),a("design:type",Object)],e.prototype,"delay",void 0),o([n.InputNumber(),a("design:type",Object)],e.prototype,"height",void 0),o([n.InputNumber(),a("design:type",Number)],e.prototype,"percent",void 0),e}();var c=[u],p=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[r.CommonModule,n.DelonUtilModule],declarations:l(c),exports:l(c)}]}],e}();e.G2GaugeComponent=u,e.G2GaugeModule=p,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=gauge.umd.min.js.map